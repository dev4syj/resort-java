<!DOCTYPE html>
<html>

<!-- Header -->
<th:block th:replace="fragments/header :: headerFragment"></th:block>

<body>
	<!-- Navbar -->
	<nav th:replace="~{navbar :: navbarFragment}"></nav>

	<!-- Page Header -->
	<div class="container-fluid page-header py-5 mb-5 wow fadeIn" data-wow-delay="0.1s">
		<div class="container text-center py-5">
			<h1 class="display-3 text-white mb-4 animated slideInDown">Notice Detail</h1>
		</div>
	</div>
	<div id="wrapper">
		<div class="container">
			<h1 th:text="${postDetail.title}"></h1>
			<div th:text="${postDetail.content}"></div>
			<h5 th:text="|${#lists.size(postDetail.comments)}개의 답변이 있습니다.|"></h5>

			<div class="card my-3" th:each="comments : ${postDetail.comments}">
				<div class="card-body">
					<div class="card-text" style="white-space: pre-line;" th:text="${comments.comment}"></div>
					<div class="d-flex justify-content-end">
						<div class="badge bg-light text-dark p-2 text-start">
							<div th:text="${#temporals.format(comments.commentDate, 'yyyy-MM-dd HH:mm')}"></div>
						</div>
					</div>
				</div>
			</div>
			<form th:action="@{|/comment/create/${postDetail.postId}|}" th:object="${commentForm}" method="post"
				class="my-3">
				<div>
					<textarea sec:authorize="isAnonymous()" disabled th:field="*{comment}" class="form-control"
						rows="10"></textarea>
					<textarea sec:authorize="isAuthenticated()" th:field="*{comment}" class="form-control"
						rows="5"></textarea>
					<div th:if="${#fields.hasErrors('comment')}" th:errors="*{comment}" class="alert alert-danger"
						role="alert"></div>
				</div>
				<div class="d-flex justify-content-end">
					<input type="submit" value="댓글 등록" class="btn btn-primary my-2 me-2">
					<a href="/notice/list" class="btn btn-secondary my-2">목록</a>
				</div>
			</form>
</body>

<!-- Footer -->
<th:block th:replace="fragments/footer :: footerFragment"></th:block>

</html>